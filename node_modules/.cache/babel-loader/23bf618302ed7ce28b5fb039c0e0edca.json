{"ast":null,"code":"import _asyncToGenerator from\"/Users/jojuseon/redux-todo/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/jojuseon/redux-todo/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _taggedTemplateLiteral from\"/Users/jojuseon/redux-todo/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject;import _regeneratorRuntime from\"/Users/jojuseon/redux-todo/node_modules/@babel/runtime/regenerator/index.js\";import axios from\"axios\";import React,{useEffect,useState}from\"react\";import Categorys from\"./Categorys\";import NewsItem from\"./NewsItem\";import styled from\"styled-components\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var StyleNews=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n    margin-top: 30px;\\n\"])));var News=function News(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),articles=_useState2[0],setArticles=_useState2[1];var _useState3=useState(\"all\"),_useState4=_slicedToArray(_useState3,2),category=_useState4[0],setCategory=_useState4[1];var onSelect=function onSelect(cate){setCategory(cate);console.log(1);};useEffect(function(){var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var query,response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;query=category===\"all\"?\"\":\"&category=\".concat(category);_context.next=4;return axios.get(\"https://newsapi.org/v2/top-headlines?country=kr\".concat(query,\"&apiKey=77c6e9b9c92b45bc838c388bec7a59df\"));case 4:response=_context.sent;setArticles(response.data.articles);_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return function fetchData(){return _ref.apply(this,arguments);};}();fetchData();},[category]);if(!articles){return null;}return/*#__PURE__*/_jsxs(StyleNews,{children:[/*#__PURE__*/_jsx(Categorys,{onSelect:onSelect}),articles&&articles.map(function(article){return/*#__PURE__*/_jsx(NewsItem,{article:article},article.url);})]});};export default News;","map":{"version":3,"sources":["/Users/jojuseon/redux-todo/src/routes/News.js"],"names":["axios","React","useEffect","useState","Categorys","NewsItem","styled","StyleNews","div","News","articles","setArticles","category","setCategory","onSelect","cate","console","log","fetchData","query","get","response","data","map","article","url"],"mappings":"ueAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CAEA,MAAOC,CAAAA,SAAP,KAAsB,aAAtB,CAEA,MAAOC,CAAAA,QAAP,KAAqB,YAArB,CACA,MAAOC,CAAAA,MAAP,KAAmB,mBAAnB,C,wFAEA,GAAMC,CAAAA,SAAS,CAAGD,MAAM,CAACE,GAAV,0FAAf,CAGA,GAAMC,CAAAA,IAAI,CAAG,QAAPA,CAAAA,IAAO,EAAM,CACf,cAAgCN,QAAQ,CAAC,IAAD,CAAxC,wCAAOO,QAAP,eAAiBC,WAAjB,eACA,eAAgCR,QAAQ,CAAC,KAAD,CAAxC,yCAAOS,QAAP,eAAiBC,WAAjB,eAEA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,IAAD,CAAU,CACvBF,WAAW,CAACE,IAAD,CAAX,CACAC,OAAO,CAACC,GAAR,CAAY,CAAZ,EACH,CAHD,CAKAf,SAAS,CAAC,UAAM,CACZ,GAAMgB,CAAAA,SAAS,0FAAG,sKAEJC,KAFI,CAEIP,QAAQ,GAAK,KAAb,CAAqB,EAArB,qBAAuCA,QAAvC,CAFJ,uBAGaZ,CAAAA,KAAK,CAACoB,GAAN,0DAC+BD,KAD/B,6CAHb,QAGJE,QAHI,eAMVV,WAAW,CAACU,QAAQ,CAACC,IAAT,CAAcZ,QAAf,CAAX,CANU,+EAQVM,OAAO,CAACC,GAAR,cARU,oEAAH,kBAATC,CAAAA,SAAS,0CAAf,CAWAA,SAAS,GACZ,CAbQ,CAaN,CAACN,QAAD,CAbM,CAAT,CAeA,GAAI,CAACF,QAAL,CAAe,CACX,MAAO,KAAP,CACH,CAED,mBACI,MAAC,SAAD,yBACI,KAAC,SAAD,EAAW,QAAQ,CAAEI,QAArB,EADJ,CAEKJ,QAAQ,EACLA,QAAQ,CAACa,GAAT,CAAa,SAACC,OAAD,qBACT,KAAC,QAAD,EAA4B,OAAO,CAAEA,OAArC,EAAeA,OAAO,CAACC,GAAvB,CADS,EAAb,CAHR,GADJ,CASH,CArCD,CAuCA,cAAehB,CAAAA,IAAf","sourcesContent":["import axios from \"axios\";\nimport React, { useEffect, useState } from \"react\";\n\nimport Categorys from \"./Categorys\";\n\nimport NewsItem from \"./NewsItem\";\nimport styled from \"styled-components\";\n\nconst StyleNews = styled.div`\n    margin-top: 30px;\n`;\nconst News = () => {\n    const [articles, setArticles] = useState(null);\n    const [category, setCategory] = useState(\"all\");\n\n    const onSelect = (cate) => {\n        setCategory(cate);\n        console.log(1);\n    };\n\n    useEffect(() => {\n        const fetchData = async () => {\n            try {\n                const query = category === \"all\" ? \"\" : `&category=${category}`;\n                const response = await axios.get(\n                    `https://newsapi.org/v2/top-headlines?country=kr${query}&apiKey=77c6e9b9c92b45bc838c388bec7a59df`\n                );\n                setArticles(response.data.articles);\n            } catch (e) {\n                console.log(e);\n            }\n        };\n        fetchData();\n    }, [category]);\n\n    if (!articles) {\n        return null;\n    }\n\n    return (\n        <StyleNews>\n            <Categorys onSelect={onSelect} />\n            {articles &&\n                articles.map((article) => (\n                    <NewsItem key={article.url} article={article} />\n                ))}\n        </StyleNews>\n    );\n};\n\nexport default News;\n"]},"metadata":{},"sourceType":"module"}